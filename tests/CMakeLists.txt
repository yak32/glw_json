CMAKE_MINIMUM_REQUIRED(VERSION 3.5 FATAL_ERROR)
PROJECT(glw_json)
ADD_SUBDIRECTORY(gtests)

INCLUDE_DIRECTORIES(${GTEST_SRC_DIRS})
INCLUDE_DIRECTORIES(${GTEST_INCLUDE_DIRS})

IF(UNIX)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=gnu++0x")
ENDIF()

ADD_EXECUTABLE (tests tests.cpp )
ADD_EXECUTABLE (performance_test performance_test.cpp )
ADD_TEST(test1 tests)
ADD_DEPENDENCIES(tests googletest)
INSTALL(TARGETS tests DESTINATION ${CMAKE_CURRENT_SOURCE_DIR}/../install/)


